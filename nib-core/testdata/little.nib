_ = print 1
_ = print true
c = _prim_add 1 2
_ = print c
b = print "hello"

// Ok, let's be systematic
// Operators
a + b = _prim_add a b
a * b = _prim_mul a b
a - b = _prim_sub a b
a / b = _prim_div a b

// Function
inc x = x + 1

// Vararg
mkarr ...xs = xs

// Use
_ = print (mkarr 1 2 3 4 5)
ft = 2.9 + 1.0
_ = print ft
_ = print (inc 4)

//Projection
_ = print (nil_type.name)

// Recursion
fac 0 = 1
fac x = x * fac (x - 1)

_ = print (fac 4)

// Where
i = a + b where a=12;b=13

_ = print i

fib n = go 1 1 n
            where
                go _ b 0 = b
                go a b n = go b (a+b) (n-1)

_ = print (fib 5)

// Arrays
arr = [1,2,3,4,5]
x = _prim_array_ref arr 2
_ = _prim_array_set arr 2 (x+19)
_ = print arr

array.set = _prim_array_set
array.ref = _prim_array_ref

arr2 = _prim_array_create 100
_ = print (_prim_array_size arr2)


// Type
_ = print string.type_id

_ = print ((type "hello").type_id)


// Bytearrays

// Tables

// Lambdas 

// Guards