// Simple pattern matching by using multi-clause lambdas

on what fun = fun what

// This works
// length xs = on xs { () -> 0
//                    (cons hd tl) -> 1 + length tl }

// This doesn't
length xs = on xs { 
                () -> 0
                (cons hd tl) -> 1 + length tl 
            }

// Now both work, hooray

(||) x y = x => x; y x

my_weird_symbol = #(**)

cond_chain x = x < 5 => "S"
               x < 10 => "M"
               x < 15 => "L"
               "XL"

// sequence expressions
begin ... last = last

// usage: begin (print "hello, ") (print "world")

