// @Name: Test recursive computation
// @Tags: array recursion rosetta

// Rosetta code task: https://rosettacode.org/wiki/Bell_numbers

bell 0 = [1]
bell n = out where
                previous = bell (n-1)
                first = array.ref previous (n-1)
                out = array.create (n+1)
                adders = [0] ++ previous
                go i acc | i == (n+1) = ()
                go i acc = array.set out i (acc + array.ref adders i) & go (i+1) (acc + array.ref adders i)
                _ = go 0 first

_ = print (bell 14)
// @Output:
// [190899322, 218543759, 250401793, 287151994, 329588907, 378644199, 435411946, 501178937, 577461075, 666047210, 769052061, 888980293, 1028804338, 1192059223, 1382958545]
// @EndOutput
// @ExitCode: 0